function g(){h.buffer!=m.buffer&&n();return aa}function ba(){h.buffer!=m.buffer&&n();return ca}function w(){h.buffer!=m.buffer&&n();return da}function x(){h.buffer!=m.buffer&&n();return ea}function fa(){h.buffer!=m.buffer&&n();return ha}function z(){h.buffer!=m.buffer&&n();return ia}var A;A||=typeof Module !== 'undefined' ? Module : {};
var ka=Object.assign({},A),B=(a,b)=>{throw b;},la="object"==typeof window,C="function"==typeof importScripts,D="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,ma=A.$ww,_scriptDir="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0;C?_scriptDir=self.location.href:D&&(_scriptDir=__filename);var E="";function na(a){return A.locateFile?A.locateFile(a,E):E+a}var oa,F,G;
if(D){var fs=require("fs"),pa=require("path");E=C?pa.dirname(E)+"/":__dirname+"/";oa=(b,c)=>{b=H(b)?new URL(b):pa.normalize(b);return fs.readFileSync(b,c?void 0:"utf8")};G=b=>{b=oa(b,!0);b.buffer||(b=new Uint8Array(b));return b};F=(b,c,d,e=!0)=>{b=H(b)?new URL(b):pa.normalize(b);fs.readFile(b,e?void 0:"utf8",(k,f)=>{k?d(k):c(e?f.buffer:f)})};process.argv.slice(2);"undefined"!=typeof module&&(module.exports=A);process.on("uncaughtException",b=>{if(!("unwind"===b||b instanceof qa||b.context instanceof
qa))throw b;});B=(b,c)=>{process.exitCode=b;throw c;};A.inspect=()=>"[Emscripten Module object]";let a;try{a=require("worker_threads")}catch(b){throw console.error('The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?'),b;}global.Worker=a.Worker}else if(la||C)C?E=self.location.href:"undefined"!=typeof document&&document.currentScript&&(E=document.currentScript.src),E=0!==E.indexOf("blob:")?E.substr(0,E.replace(/[?#].*/,"").lastIndexOf("/")+1):"",
oa=a=>{var b=new XMLHttpRequest;b.open("GET",a,!1);b.send(null);return b.responseText},C&&(G=a=>{var b=new XMLHttpRequest;b.open("GET",a,!1);b.responseType="arraybuffer";b.send(null);return new Uint8Array(b.response)}),F=(a,b,c)=>{var d=new XMLHttpRequest;d.open("GET",a,!0);d.responseType="arraybuffer";d.onload=()=>{200==d.status||0==d.status&&d.response?b(d.response):c()};d.onerror=c;d.send(null)};var ra=A.print||console.log.bind(console),I=A.printErr||console.error.bind(console);
Object.assign(A,ka);ka=null;A.quit&&(B=A.quit);var J;A.wasmBinary&&(J=A.wasmBinary);"object"!=typeof WebAssembly&&sa("no native wasm support detected");var h,ta,ua=!1,m,aa,ca,da,ea,ha,ia;function n(){var a=h.buffer;A.HEAP8=m=new Int8Array(a);A.HEAP16=ca=new Int16Array(a);A.HEAPU8=aa=new Uint8Array(a);A.HEAPU16=new Uint16Array(a);A.HEAP32=da=new Int32Array(a);A.HEAPU32=ea=new Uint32Array(a);A.HEAPF32=ha=new Float32Array(a);A.HEAPF64=ia=new Float64Array(a)}var va=A.INITIAL_MEMORY||16777216;
if(A.wasmMemory)h=A.wasmMemory;else if(h=new WebAssembly.Memory({initial:va/65536,maximum:32768,shared:!0}),!(h.buffer instanceof SharedArrayBuffer))throw I("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),D&&I("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)"),Error("bad memory");
n();va=h.buffer.byteLength;var wa=[],xa=[],ya=[],za=[],Aa=[];function Ba(){if(ma){let a=A;Da(a.sb,a.sz);removeEventListener("message",Ea);Fa=Fa.forEach(Ga);addEventListener("message",Ga)}else Ha(xa)}function Ia(){var a=A.preRun.shift();wa.unshift(a)}var L=0,Ja=null,M=null;function sa(a){A.onAbort?.(a);a="Aborted("+a+")";I(a);ua=!0;throw new WebAssembly.RuntimeError(a+". Build with -sASSERTIONS for more info.");}
var Ka=a=>a.startsWith("data:application/octet-stream;base64,"),H=a=>a.startsWith("file://"),N;N="app.wasm";Ka(N)||(N=na(N));function La(a){if(a==N&&J)return new Uint8Array(J);if(G)return G(a);throw"both async and sync fetching of the wasm failed";}
function Ma(a){if(!J&&(la||C)){if("function"==typeof fetch&&!H(a))return fetch(a,{credentials:"same-origin"}).then(b=>{if(!b.ok)throw"failed to load wasm binary file at '"+a+"'";return b.arrayBuffer()}).catch(()=>La(a));if(F)return new Promise((b,c)=>{F(a,d=>b(new Uint8Array(d)),c)})}return Promise.resolve().then(()=>La(a))}function Na(a,b,c){return Ma(a).then(d=>WebAssembly.instantiate(d,b)).then(d=>d).then(c,d=>{I(`failed to asynchronously prepare wasm: ${d}`);sa(d)})}
function Oa(a,b){var c=N;J||"function"!=typeof WebAssembly.instantiateStreaming||Ka(c)||H(c)||D||"function"!=typeof fetch?Na(c,a,b):fetch(c,{credentials:"same-origin"}).then(d=>WebAssembly.instantiateStreaming(d,a).then(b,function(e){I(`wasm streaming compile failed: ${e}`);I("falling back to ArrayBuffer instantiation");return Na(c,a,b)}))}
var Pa={5812:function(){let a=Atomics.waitAsync(w(),arguments[0]>>2,arguments[1]),b=Array.prototype.slice.call(arguments,4,arguments.length),c=arguments[2]>>2,d=arguments[3],e=0==b.length?"":"i".repeat(b.length);a.async&&a.value.then(()=>{console.log("promise finished");A.dynCall("v"+e,d,b)});w()[c]=!!a.async}};function qa(a){this.name="ExitStatus";this.message=`Program terminated with exit(${a})`;this.status=a}
var Fa=[],Qa=[],Ra,O=a=>{var b=Qa[a];b||(a>=Qa.length&&(Qa.length=a+1),Qa[a]=b=Ra.get(a));return b},Ga=a=>{a=D?a:a.data;let b=a._wsc;b&&O(b)(...a.x)},Ea=a=>{Fa.push(a)},Ha=a=>{for(;0<a.length;)a.shift()(A)},Sa=A.noExitRuntime||!0,Ta={},Ua=1,Va=[],Wa=0;function Xa(){for(var a=P.length-1;0<=a;--a)Ya(a);P=[];Za=[]}var Za=[];function $a(){if(navigator.userActivation?navigator.userActivation.isActive:Wa&&ab.o)for(var a=0;a<Za.length;++a){var b=Za[a];Za.splice(a,1);--a;b.D.apply(null,b.B)}}var P=[];
function Ya(a){var b=P[a];b.target.removeEventListener(b.g,b.A,b.j);P.splice(a,1)}function bb(a){function b(d){++Wa;ab=a;$a();a.m(d);$a();--Wa}if(!a.target)return-4;if(a.l)a.A=b,a.target.addEventListener(a.g,b,a.j),P.push(a),cb||(za.push(Xa),cb=!0);else for(var c=0;c<P.length;++c)P[c].target==a.target&&P[c].g==a.g&&Ya(c--);return 0}
var cb,ab,db,eb,fb,gb="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0,hb=(a,b)=>{for(var c=b+NaN,d=b;a[d]&&!(d>=c);)++d;if(16<d-b&&a.buffer&&gb)return gb.decode(a.buffer instanceof SharedArrayBuffer?a.slice(b,d):a.subarray(b,d));for(c="";b<d;){var e=a[b++];if(e&128){var k=a[b++]&63;if(192==(e&224))c+=String.fromCharCode((e&31)<<6|k);else{var f=a[b++]&63;e=224==(e&240)?(e&15)<<12|k<<6|f:(e&7)<<18|k<<12|f<<6|a[b++]&63;65536>e?c+=String.fromCharCode(e):(e-=65536,c+=String.fromCharCode(55296|
e>>10,56320|e&1023))}}else c+=String.fromCharCode(e)}return c},Q=a=>a?hb(g(),a):"",ib=[0,"undefined"!=typeof document?document:0,"undefined"!=typeof window?window:0],jb=a=>{a=2<a?Q(a):a;return ib[a]||("undefined"!=typeof document?document.querySelector(a):void 0)},kb=a=>0>ib.indexOf(a)?a.getBoundingClientRect():{left:0,top:0},mb=(a,b,c,d)=>{db||=lb(36);a=jb(a);return bb({target:a,g:"resize",l:d,m:(e=event)=>{if(e.target==a){var k=document.body;if(k){var f=db;w()[f>>2]=e.detail;w()[f+4>>2]=k.clientWidth;
w()[f+8>>2]=k.clientHeight;w()[f+12>>2]=innerWidth;w()[f+16>>2]=innerHeight;w()[f+20>>2]=outerWidth;w()[f+24>>2]=outerHeight;w()[f+28>>2]=pageXOffset;w()[f+32>>2]=pageYOffset;O(d)(10,f,b)&&e.preventDefault()}}},j:c})},nb=(a,b,c,d,e,k)=>{eb||=lb(1696);a=jb(a);return bb({target:a,o:"touchstart"==k||"touchend"==k,g:k,l:d,m:f=>{for(var l,p={},t=f.touches,q=0;q<t.length;++q)l=t[q],l.s=l.u=0,p[l.identifier]=l;for(q=0;q<f.changedTouches.length;++q)l=f.changedTouches[q],l.s=1,p[l.identifier]=l;for(q=0;q<
f.targetTouches.length;++q)p[f.targetTouches[q].identifier].u=1;t=eb;z()[t>>3]=f.timeStamp;var r=t>>2;w()[r+3]=f.ctrlKey;w()[r+4]=f.shiftKey;w()[r+5]=f.altKey;w()[r+6]=f.metaKey;r+=7;var u=kb(a),y=0;for(q in p)if(l=p[q],w()[r]=l.identifier,w()[r+1]=l.screenX,w()[r+2]=l.screenY,w()[r+3]=l.clientX,w()[r+4]=l.clientY,w()[r+5]=l.pageX,w()[r+6]=l.pageY,w()[r+7]=l.s,w()[r+8]=l.u,w()[r+9]=l.clientX-u.left,w()[r+10]=l.clientY-u.top,r+=13,31<++y)break;w()[t+8>>2]=y;O(d)(e,t,b)&&f.preventDefault()},j:c})},
ob=(a,b,c,d)=>{fb||=lb(104);return bb({target:a,o:!0,g:"wheel",l:d,m:(e=event)=>{var k=fb;z()[k>>3]=e.timeStamp;var f=k>>2;w()[f+2]=e.screenX;w()[f+3]=e.screenY;w()[f+4]=e.clientX;w()[f+5]=e.clientY;w()[f+6]=e.ctrlKey;w()[f+7]=e.shiftKey;w()[f+8]=e.altKey;w()[f+9]=e.metaKey;ba()[2*f+20]=e.button;ba()[2*f+21]=e.buttons;w()[f+11]=e.movementX;w()[f+12]=e.movementY;var l=kb(a);w()[f+13]=e.clientX-l.left;w()[f+14]=e.clientY-l.top;z()[k+72>>3]=e.deltaX;z()[k+80>>3]=e.deltaY;z()[k+88>>3]=e.deltaZ;w()[k+
96>>2]=e.deltaMode;O(d)(9,k,b)&&e.preventDefault()},j:c})},pb=[null,[],[]];String.prototype.replaceAll||(String.prototype.replaceAll=function(a,b){"?"===a&&(a="\\?");return this.replace(a instanceof RegExp?a:new RegExp(a,"g"),b)});function R(a,b,c){c=c||65;for(b=b.split("|");b[0];)a=a.replaceAll(String.fromCharCode(c++),b.pop());return[,].concat(a.split(" "))}
var S=R("r8YA8TA8SA8UALSALUALWR8YR8TR8SR8UANSANUANWRLSRLURLW V8Y V8Z V8T V8S V8U bgra8Y bgra8ZRb9e5uWRbJa2SRbJa2YR11bJuWRNSRNURNW VLS VLU VLW VNS VNU VNWB8ILYI24plusI24plus-E8INWINW-E8Q1-V-YQ1-V-ZQ2-V-YQ2-V-ZQ3-V-YQ3-V-ZQ4-r-YQ4-r-TQ5-rg-YQ5-rg-TQ6h-rgb-uWQ6h-rgb-WQ7-V-YQ7-V-ZPYPZPa1YPa1Z etc2-V8Y etc2-V8ZFr11YFr11TFrg11YFrg11TX4x4-YX4x4-ZX5x4-YX5x4-ZX5x5-YX5x5-ZX6x5-YX6x5-ZX6x6-YX6x6-ZX8x5-YX8x5-ZX8x6-YX8x6-ZX8x8-YX8x8-ZXJx5-YXJx5-ZXJx6-YXJx6-ZXJx8-YXJx8-ZXJxJ-YXJxJ-ZX12xJ-YX12xJ-ZX12x12-YX12x12-Z S8MS8KU8MU8KY8MY8KT8MT8KSLMSLKULMULKYLMYLKTLMTLKWLMWLKWN WNMWNx3 WNKSN SNMSNx3 SNKUN UNMUNx3 UNKYJ-J-J-2","unorm-srgb|unorm| astc-|float|rgba|sint|snorm|uint| rg| bc| etc2-rgb8|-AC|32|x2 |16|x4 |10| depth|-B|SC| eac-|stencil|-ESJ|-E-A| E| r"),
T={},U=1;function V(a){if(a){for(;T[++U];)2147483646<U&&(U=1);T[U]=a;return a.v=U}}function qb(a){return b=>{try{return a(b)}catch(c){}}}
var rb=R("B-clip-control B32D-Aencil8EbcEetc2EaAc timeAamp-query indirect-firA-inAance shader-f16 rg11b10uD-rendC bgra8unorm-Aorage D32-filtC"," texture-compression-|float|erable|depth|st").slice(1),sb=R(">1D >2D >3D maxTextureArrayLayer<6<6sPlus7=<BindingsPer6 maxDynamicUniform=;DynamicS:=;SampledTexture@maxSampler@maxS:=@maxS:Texture@maxUniform=@minUniform=9inS:=9ax7=<7Attribute<7=ArrayStride max8Component<8Variable<ColorAttachment<ColorAttachmentBytesPerSample?pS:Size maxComputeInvocationsPerWorkgroup?pSizeX?pSizeY?pSizeZ","sPerShaderStage | maxComputeWorkgrou|maxTextureDimension|Buffer|s max|sPerPipelineLayout max|torage|OffsetAlignment m|InterStageShader|Vertex|BindGroup|Uniform7|8ColorAttachmen",
52).slice(1),tb=R("maxUniform4Storage4BufferSize","BufferBindingSize max",52).slice(1);function W(a){return x()[a]+4294967296*x()[a+1]}var ub=[,"srgb","display-p3"];function X(a){let b=T[a];b&&(b.destroy&&b.destroy(),b.h&&b.h.forEach(X),delete T[a])}var vb=[,"load","clear"],wb=[,"store","discard"];function Y(a,b){(a=V(a))&&b.h.push(a);return a}var xb=R("neverA equalACB notCBCalways","-equal |greater| less"),yb=R("keep zero replace invert inCBdeCBinCA deCA","crement-|clamp |wrap");
function zb(a){return{compare:xb[x()[a]],failOp:yb[x()[a+1]],depthFailOp:yb[x()[a+2]],passOp:yb[x()[a+3]]}}var Ab=R("add Areverse-Amin max","subtract "),Bb=R("zero one BEB BDEBD AEA ADEAD BD-saturated CEC"," one-minus-|-alpha|constant|src|dst");function Cb(a){return{operation:Ab[x()[a]],srcFactor:Bb[x()[a+1]],dstFactor:Bb[x()[a+2]]}}function Db(a,b){let c={};for(;b--;)c[Q(x()[a>>2])]=z()[a+8>>3],a+=16;return c}var Eb=R("A16 A32","uint"),Fb=R("pointDADAB CDCB","-list |triangle|-strip|line");
function Gb(a){var b=[];let c=[],d=a>>2,e=w()[d+2],k=x()[d+3]>>2,f=d+6;a=f+5;let l=a+17,p=l+3,t=w()[p+2],q=x()[p+3]>>2,r=x()[a++],u=x()[l],y=x()[p],K=x()[p+6];for(;e--;){let v=[],Ca=w()[k],ja=x()[k+1]>>2;for(;Ca--;)v.push({offset:W(ja),shaderLocation:x()[ja+2],format:S[x()[ja+3]]}),ja+=4;b.push({arrayStride:W(k+2),stepMode:[,"vertex","instance"][x()[k+4]],attributes:v});k+=6}for(;t--;)c.push(x()[q]?{format:S[x()[q]],blend:x()[q+1]?{color:Cb(q+1),alpha:Cb(q+4)}:void 0,writeMask:x()[q+7]}:null),q+=
8;b={vertex:{module:T[x()[d]],entryPoint:Q(x()[d+1])||void 0,buffers:b,constants:Db(x()[d+5],w()[d+4])},primitive:{topology:Fb[x()[f]],stripIndexFormat:Eb[x()[f+1]],frontFace:[,"ccw","cw"][x()[f+2]],cullMode:[,"none","front","back"][x()[f+3]],unclippedDepth:!!x()[f+4]},layout:1<K?T[K]:"auto"};r&&(b.depthStencil={format:S[r],depthWriteEnabled:!!x()[a++],depthCompare:xb[x()[a++]],stencilReadMask:x()[a++],stencilWriteMask:x()[a++],depthBias:w()[a++],depthBiasSlopeScale:fa()[a++],depthBiasClamp:fa()[a++],
stencilFront:zb(a),stencilBack:zb(a+4),clampDepth:!!x()[a+8]});u&&(b.multisample={count:u,mask:x()[l+1],alphaToCoverageEnabled:!!x()[l+2]});y&&(b.fragment={module:T[y],entryPoint:Q(x()[p+1])||void 0,targets:c,constants:Db(x()[p+5],w()[p+4])});return b}
var Kb=(a,b,c,d)=>{var e={string:t=>{var q=0;if(null!==t&&void 0!==t&&0!==t){for(var r=q=0;r<t.length;++r){var u=t.charCodeAt(r);127>=u?q++:2047>=u?q+=2:55296<=u&&57343>=u?(q+=4,++r):q+=3}var y=q+1;q=Hb(y);r=g();u=q;if(0<y){y=u+y-1;for(var K=0;K<t.length;++K){var v=t.charCodeAt(K);if(55296<=v&&57343>=v){var Ca=t.charCodeAt(++K);v=65536+((v&1023)<<10)|Ca&1023}if(127>=v){if(u>=y)break;r[u++]=v}else{if(2047>=v){if(u+1>=y)break;r[u++]=192|v>>6}else{if(65535>=v){if(u+2>=y)break;r[u++]=224|v>>12}else{if(u+
3>=y)break;r[u++]=240|v>>18;r[u++]=128|v>>12&63}r[u++]=128|v>>6&63}r[u++]=128|v&63}}r[u]=0}}return q},array:t=>{var q=Hb(t.length);h.buffer!=m.buffer&&n();m.set(t,q);return q}};a=A["_"+a];var k=[],f=0;if(d)for(var l=0;l<d.length;l++){var p=e[c[l]];p?(0===f&&(f=Ib()),k[l]=p(d[l])):k[l]=d[l]}c=a.apply(null,k);return c=function(t){0!==f&&Jb(f);return"string"===b?Q(t):"boolean"===b?!!t:t}(c)};ma&&(Ta[0]=this,addEventListener("message",Ea));
var Lb={_emscripten_create_wasm_worker:(a,b)=>{let c=Ta[Ua]=new Worker(na("app.ww.js"));c.postMessage({$ww:Ua,wasm:ta,js:A.mainScriptUrlOrBlob||_scriptDir,wasmMemory:h,sb:a,sz:b});c.onmessage=Ga;return Ua++},emscripten_asm_const_int:(a,b,c)=>{Va.length=0;for(var d;d=g()[b++];){var e=105!=d;e&=112!=d;c+=e&&c%8?4:0;Va.push(112==d?x()[c>>2]:105==d?w()[c>>2]:z()[c>>3]);c+=e?8:4}return Pa[a].apply(null,Va)},emscripten_get_device_pixel_ratio:()=>"number"==typeof devicePixelRatio&&devicePixelRatio||1,emscripten_get_element_css_size:(a,
b,c)=>{a=jb(a);if(!a)return-4;a=kb(a);z()[b>>3]=a.width;z()[c>>3]=a.height;return 0},emscripten_get_now:()=>performance.now(),emscripten_request_animation_frame:(a,b)=>requestAnimationFrame(c=>O(a)(c,b)),emscripten_resize_heap:a=>{var b=g().length;a>>>=0;if(a<=b||2147483648<a)return!1;for(var c=1;4>=c;c*=2){var d=b*(1+.2/c);d=Math.min(d,a+100663296);var e=Math;d=Math.max(a,d);a:{e=(e.min.call(e,2147483648,d+(65536-d%65536)%65536)-h.buffer.byteLength+65535)/65536;try{h.grow(e);n();var k=1;break a}catch(f){}k=
void 0}if(k)return!0}return!1},emscripten_set_resize_callback_on_thread:(a,b,c,d)=>mb(a,b,c,d),emscripten_set_touchcancel_callback_on_thread:(a,b,c,d)=>nb(a,b,c,d,25,"touchcancel"),emscripten_set_touchend_callback_on_thread:(a,b,c,d)=>nb(a,b,c,d,23,"touchend"),emscripten_set_touchmove_callback_on_thread:(a,b,c,d)=>nb(a,b,c,d,24,"touchmove"),emscripten_set_touchstart_callback_on_thread:(a,b,c,d)=>nb(a,b,c,d,22,"touchstart"),emscripten_set_wheel_callback_on_thread:(a,b,c,d)=>(a=jb(a))?"undefined"!=
typeof a.onwheel?ob(a,b,c,d):-1:-4,emscripten_wasm_worker_post_function_v:(a,b)=>{Ta[a].postMessage({_wsc:b,x:[]})},exitIncompatible:function(){document.querySelector("body").innerHTML="Please use a WebGPU-compatible browser."},fd_write:(a,b,c,d)=>{for(var e=0,k=0;k<c;k++){var f=x()[b>>2],l=x()[b+4>>2];b+=8;for(var p=0;p<l;p++){var t=g()[f+p],q=pb[a];0===t||10===t?((1===a?ra:I)(hb(q,0)),q.length=0):q.push(t)}e+=l}x()[d>>2]=e;return 0},memory:h,navigator_gpu_available:function(){return!!navigator.gpu},
navigator_gpu_get_preferred_canvas_format:function(){return S.indexOf(navigator.gpu.getPreferredCanvasFormat())},navigator_gpu_request_adapter_async:function(a,b,c){a>>=2;let d=navigator.gpu,e=[,"low-power","high-performance"][x()[a]],k={};if(d){a&&(k.forceFallbackAdapter=!!x()[a+1],e&&(k.powerPreference=e));function f(l){O(b)(V(l),c)}d.requestAdapter(k).then(qb(f)).catch(()=>{f()});return 1}},postCanvas:function(a,b){b=document.querySelector(Q(b)).transferControlToOffscreen();Ta[a].postMessage({canvas:b},
[b])},renderHijackMessage:function(a){addEventListener("message",b=>{b=b.data;"canvas"in b&&(self.i=b.canvas,console.log(self.i),A._renderAdapterInit(a))})},setOffscreenSize:function(a,b){self.i.width=a;self.i.height=b},wgpu_adapter_request_device_async:function(a,b,c,d){function e(p){p&&(p.h=[],V(p.queue));O(c)(V(p),d)}b>>=2;let k=[],f={},l=x()[b];b+=2;for(let p=0;11>p;++p)l&1<<p&&k.push(rb[p]);for(let p of tb){if(l=W(b))f[p]=l;b+=2}for(let p of sb)if(l=x()[b++])f[p]=l;b=x()[b];T[a].requestDevice({requiredFeatures:k,
requiredLimits:f,defaultQueue:b?{label:Q(b)}:void 0}).then(qb(e)).catch(()=>{e()})},wgpu_canvas_context_configure:function(a,b){b>>=2;a=T[a];var c=a.configure,d=T[x()[b]],e=S[x()[b+1]],k=x()[b+2],f=x()[b+4],l=x()[b+3];f>>=2;let p=[];for(;l--;)p.push(T[x()[f++]]);c.call(a,{device:d,format:e,usage:k,viewFormats:p,colorSpace:ub[x()[b+5]],alphaMode:[,"opaque","premultiplied"][x()[b+6]]})},wgpu_canvas_context_get_current_texture:function(a){a=T[a].getCurrentTexture();a!=T[1]&&(X(1),T[1]=a,a.v=1,a.h=[]);
return 1},wgpu_canvas_get_webgpu_context:function(){return V(self.i.getContext("webgpu"))},wgpu_command_encoder_begin_render_pass:function(a,b){b>>=2;let c=[];for(var d=w()[b++],e=x()[b++]>>2,k=e+6>>1,f=T[x()[b]];d--;)c.push(x()[e]?{view:T[x()[e]],depthSlice:0>w()[e+1]?void 0:w()[e+1],resolveTarget:T[x()[e+2]],storeOp:wb[x()[e+3]],loadOp:vb[x()[e+4]],clearValue:[z()[k],z()[k+1],z()[k+2],z()[k+3]]}:null),e+=14,k+=7;a=T[a];d=a.beginRenderPass;f=f?{view:f,depthLoadOp:vb[x()[b+1]],depthClearValue:fa()[b+
2],depthStoreOp:wb[x()[b+3]],depthReadOnly:!!x()[b+4],stencilLoadOp:vb[x()[b+5]],stencilClearValue:x()[b+6],stencilStoreOp:wb[x()[b+7]],stencilReadOnly:!!x()[b+8]}:void 0;e=T[x()[b+9]];k=z()[b+10>>1]||void 0;var l;b+=12;var p=x()[b];p?(p={querySet:T[p]},0<=(l=w()[b+1])&&(p.beginningOfPassWriteIndex=l),0<=(l=w()[b+2])&&(p.endOfPassWriteIndex=l),l=p):l=void 0;return V(d.call(a,{colorAttachments:c,depthStencilAttachment:f,occlusionQuerySet:e,maxDrawCount:k,timestampWrites:l}))},wgpu_device_create_bind_group:function(a,
b,c,d){a=T[a];c>>=2;let e=[];for(;d--;){var k=x()[c],f=T[x()[c+1]];k={binding:k,resource:f};if(f.isBuffer){f={buffer:f,offset:W(c+2)};let l=W(c+4);l&&(f.size=l);k.resource=f}e.push(k);c+=6}return Y(a.createBindGroup({layout:T[b],entries:e}),a)},wgpu_device_create_buffer:function(a,b){a=T[a];b>>=2;b=a.createBuffer({size:W(b),usage:x()[b+2],mappedAtCreation:!!x()[b+3]});b.C={};b.isBuffer=1;return Y(b,a)},wgpu_device_create_command_encoder:function(a){return Y(T[a].createCommandEncoder(void 0),T[a])},
wgpu_device_create_render_pipeline_async:function(a,b,c,d){let e=T[a],k=f=>{O(c)(a,Y(f,e),d)};e.createRenderPipelineAsync(Gb(b)).then(qb(k)).catch(()=>{k()})},wgpu_device_create_shader_module:function(a,b){var c=T[a],d=c.createShaderModule;var e=b>>2;b=Q(x()[e]);var k=e+1;e=w()[k];let f=[];k=x()[k+1]>>2;let l;for(;e--;)l=x()[k+1],f.push({entryPoint:Q(x()[k]),layout:1<l?T[l]:l?"auto":null}),k+=2;return Y(d.call(c,{code:b,compilationHints:f}),T[a])},wgpu_device_get_queue:function(a){return T[a].queue.v},
wgpu_encoder_end:function(a){T[a].end();X(a)},wgpu_encoder_finish:function(a){let b=T[a].finish();X(a);return V(b)},wgpu_encoder_set_bind_group:function(a,b,c,d,e){T[a].setBindGroup(b,T[c],x(),d>>2,e)},wgpu_encoder_set_pipeline:function(a,b){T[a].setPipeline(T[b])},wgpu_object_destroy:X,wgpu_pipeline_get_bind_group_layout:function(a,b){return V(T[a].getBindGroupLayout(b))},wgpu_queue_submit_one_and_destroy:function(a,b){T[a].submit([T[b]]);X(b)},wgpu_queue_write_buffer:function(a,b,c,d,e){T[a].writeBuffer(T[b],
c,g(),d,e)},wgpu_render_commands_mixin_draw:function(a,b,c,d,e){T[a].draw(b,c,d,e)},wgpu_texture_create_view_simple:function(a){return Y(T[a].createView(),T[a])}},Z=function(){function a(c,d){Z=c.exports;Ra=Z.__indirect_function_table;xa.unshift(Z.__wasm_call_ctors);ta=d;L--;A.monitorRunDependencies?.(L);0==L&&(null!==Ja&&(clearInterval(Ja),Ja=null),M&&(c=M,M=null,c()));return Z}var b={env:Lb,wasi_snapshot_preview1:Lb};L++;A.monitorRunDependencies?.(L);if(A.instantiateWasm)try{return A.instantiateWasm(b,
a)}catch(c){return I(`Module.instantiateWasm callback failed with error: ${c}`),!1}Oa(b,function(c){a(c.instance,c.module)});return{}}();A._renderAdapterInit=a=>(A._renderAdapterInit=Z.renderAdapterInit)(a);var Mb=A._main=(a,b)=>(Mb=A._main=Z.main)(a,b),lb=a=>(lb=Z.malloc)(a),Da=A._emscripten_wasm_worker_initialize=(a,b)=>(Da=A._emscripten_wasm_worker_initialize=Z.emscripten_wasm_worker_initialize)(a,b),Ib=()=>(Ib=Z.stackSave)(),Jb=a=>(Jb=Z.stackRestore)(a),Hb=a=>(Hb=Z.stackAlloc)(a);
A.dynCall_jiji=(a,b,c,d,e)=>(A.dynCall_jiji=Z.dynCall_jiji)(a,b,c,d,e);A.___start_em_js=5180;A.___stop_em_js=5812;A.dynCall=(a,b,c)=>{a.includes("j")?(a=A["dynCall_"+a],b=c&&c.length?a.apply(null,[b].concat(c)):a.call(null,b)):b=O(b).apply(null,c);return b};A.ccall=Kb;A.cwrap=(a,b,c,d)=>{var e=!c||c.every(k=>"number"===k||"boolean"===k);return"string"!==b&&e&&!d?A["_"+a]:function(){return Kb(a,b,c,arguments,d)}};var Nb;M=function Ob(){Nb||Pb();Nb||(M=Ob)};
function Pb(){function a(){if(!Nb&&(Nb=!0,A.calledRun=!0,!ua)){Ba();Ha(ya);if(A.onRuntimeInitialized)A.onRuntimeInitialized();if(Qb){var b=Mb;try{var c=b(0,0);Sa||(A.onExit?.(c),ua=!0);B(c,new qa(c))}catch(d){d instanceof qa||"unwind"==d||B(1,d)}}if(A.postRun)for("function"==typeof A.postRun&&(A.postRun=[A.postRun]);A.postRun.length;)b=A.postRun.shift(),Aa.unshift(b);Ha(Aa)}}if(!(0<L))if(ma)Ba();else{if(A.preRun)for("function"==typeof A.preRun&&(A.preRun=[A.preRun]);A.preRun.length;)Ia();Ha(wa);0<
L||(A.setStatus?(A.setStatus("Running..."),setTimeout(function(){setTimeout(function(){A.setStatus("")},1);a()},1)):a())}}if(A.preInit)for("function"==typeof A.preInit&&(A.preInit=[A.preInit]);0<A.preInit.length;)A.preInit.pop()();var Qb=!0;A.noInitialRun&&(Qb=!1);Pb();
